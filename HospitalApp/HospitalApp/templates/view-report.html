{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <title>HastaneApp</title>
    <meta content="width=device-width, initial-scale=1.0, user-scalable=0" name="viewport"/>
    <link href="{% static 'HealthStack-System/images/Normal/favicon.png' %}" rel="icon" type="image/x-icon"/>
    <link href="{% static 'HealthStack-System/css/Normal/bootstrap.min.css' %}" rel="stylesheet"/>
    <link href="{% static 'HealthStack-System/plugins/Normal/fontawesome/css/fontawesome.min.css' %}" rel="stylesheet"/>
    <link href="{% static 'HealthStack-System/plugins/Normal/fontawesome/css/all.min.css' %}" rel="stylesheet"/>
    <link href="{% static 'HealthStack-System/css/Normal/style.css' %}" rel="stylesheet"/>
</head>
<body>
    <div class="main-wrapper">
        <header class="header">
            {% if user.is_authenticated and user.is_patient %}
                {% include 'patient_navbar.html' %}
            {% endif %}
        </header>

        <div class="breadcrumb-bar">
            <div class="container-fluid">
                <div class="row align-items-center">
                    <div class="col-md-12 col-12">
                        <nav aria-label="breadcrumb" class="page-breadcrumb">
                            <ol class="breadcrumb">
                                {% if user.is_authenticated and user.is_patient %}
                                    <li class="breadcrumb-item"><a href="{% url 'patient-dashboard' %}">Home</a></li>
                                {% endif %}
                                <li aria-current="page" class="breadcrumb-item active">Report Result</li>
                            </ol>
                        </nav>
                        <h2 class="breadcrumb-title">Report Result</h2>
                    </div>
                </div>
            </div>
        </div>

        <div class="content">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-md-5 col-lg-4 col-xl-3 theiaStickySidebar">
                        <div>{% include 'patient-sidebar.html' %}</div>
                    </div>

                    <div class="col-md-7 col-lg-8 col-xl-9">
                        <div class="invoice-content">
                            {% for report in reports %}
                            <div class="invoice-item">
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="invoice-logo">
                                            <img alt="logo" src="{% static 'HealthStack-System/images/Normal/logo1.png' %}"/>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <p class="invoice-details">
                                            <strong>Report ID:</strong> {{report.report_id}} <br/>
                                            <strong>Patient ID:</strong> {{patient.patient_id}} <br/>
                                            <strong>Date:</strong> {{report.delivery_date}}
                                        </p>
                                    </div>
                                </div>
                            </div>

                            <div class="invoice-item">
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="invoice-info">
                                            <strong class="customer-text">Doctor Information:</strong>
                                            <p class="invoice-details invoice-details-two">
                                                <b>Name: </b>{{report.doctor.name}} <br/>
                                                <b>Department: </b>{{report.doctor.department_name}}<br/>
                                                <b>Email: </b>{{report.doctor.email}} <br/>
                                            </p>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="invoice-info invoice-info2">
                                            <strong class="customer-text">Patient Information:</strong>
                                            <p class="invoice-details">
                                                <b>Name: </b>{{patient.name}} <br/>
                                                <b>Address: </b>{{report.patient.address}}<br/>
                                                <b>Email: </b>{{report.patient.email}} <br/>
                                                <b>Phone Number: </b>{{report.patient.phone_number}}<br/>
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="invoice-item invoice-table-wrap">
                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="table-responsive">
                                            <table class="table table-bordered text-center">
                                                <thead>
                                                    <tr style="background-color: rgb(84, 147, 199)">
                                                        <th style="border: 2px solid;">Specimen Information</th>
                                                        <th style="border: 2px solid;">Specimen ID</th>
                                                        <th style="border: 2px solid;">Collection Date/Time</th>
                                                        <th style="border: 2px solid;">Receiving Date/Time</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    {% for s in specimen %}
                                                    <tr>
                                                        <td style="border: 2px solid;">{{s.specimen_type}}</td>
                                                        <td style="border: 2px solid;">{{s.specimen_id}}</td>
                                                        <td style="border: 2px solid;">{{s.collection_date}}</td>
                                                        <td style="border: 2px solid;">{{s.receiving_date}}</td>
                                                    </tr>
                                                    {% endfor %}
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <br/>

                            <div class="invoice-item invoice-table-wrap">
                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="table-responsive">
                                            <table class="invoice-table table table-bordered text-center">
                                                <thead>
                                                    <tr style="background-color: rgb(84, 147, 199);">
                                                        <th style="border: 2px solid;">Test Name</th>
                                                        <th style="border: 2px solid;">Result</th>
                                                        <th style="border: 2px solid;">Unit</th>
                                                        <th style="border: 2px solid;">Referred value</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    {% for t in test %}
                                                    <tr>
                                                        <td style="border: 2px solid;">{{t.test_name}}</td>
                                                        <td style="border: 2px solid;">{{t.result}}</td>
                                                        <td style="border: 2px solid;">{{t.unit}}</td>
                                                        <td style="border: 2px solid;">{{t.referred_value}}</td>
                                                    </tr>
                                                    {% endfor %}
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="other-info">
                                <h4><b>Other Information:</b></h4>
                                <p>{{report.other_information}}</p>
                            </div>
                            {% endfor %}
                        </div>
                    </div>
                </div>
            </div>
        </div>

        {% include 'footer.html' %}
    </div>

    <script src="{% static 'HealthStack-System/js/Normal/jquery.min.js' %}"></script>
    <script src="{% static 'HealthStack-System/js/Normal/popper.min.js' %}"></script>
    <script src="{% static 'HealthStack-System/js/Normal/bootstrap.min.js' %}"></script>
    <script src="{% static 'HealthStack-System/plugins/Normal/theia-sticky-sidebar/ResizeSensor.js' %}"></script>
    <script src="{% static 'HealthStack-System/plugins/Normal/theia-sticky-sidebar/theia-sticky-sidebar.js' %}"></script>
    <script src="{% static 'HealthStack-System/Outside_assets/js/script.js' %}"></script>
    <script src="{% static 'HealthStack-System/js/Normal/sidebar.js' %}"></script>
</body>
</html>