{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1.0, user-scalable=0" name="viewport"/>
    <title>HastaneApp - Prescription</title>
    <link href="{% static 'HealthStack-System/images/Normal/favicon.png' %}" rel="icon" type="image/x-icon"/>
    <link href="{% static 'HealthStack-System/css/Normal/bootstrap.min.css' %}" rel="stylesheet"/>
    <style>
        body { font-family: Arial, sans-serif; font-size: 14px; }
        .invoice-content { padding: 20px; }
        .invoice-item { margin-bottom: 20px; }
        .invoice-table { width: 100%; border-collapse: collapse; }
        .invoice-table th, .invoice-table td { border: 1px dashed #000; padding: 8px; text-align: center; }
        .invoice-table th { background-color: #5493c7; color: white; }
        .text-center { text-align: center; }
        .row { display: flex; flex-wrap: wrap; margin-right: -15px; margin-left: -15px; }
        .col-md-6 { flex: 0 0 50%; max-width: 50%; padding: 0 15px; }
        .col-md-12 { flex: 0 0 100%; max-width: 100%; padding: 0 15px; }
        .table-responsive { overflow-x: auto; }
        hr { border-top: 1px solid #ddd; }
    </style>
</head>
<body>
<div class="invoice-content">
    <div class="invoice-item">
        <div class="row">
            <div class="col-md-6">
                <div class="invoice-logo">
                    <img alt="logo" src="{% static 'HealthStack-System/images/Normal/logo1.png' %}" style="width: 220px;"/>
                </div>
            </div>
            <div class="col-md-6">
                <p class="invoice-details">
                    <strong>Patient ID:</strong> {{prescription.patient.patient_id}} <br/>
                    <strong>Date:</strong> {{prescription.create_date}}
                </p>
            </div>
        </div>
    </div>

    <div class="invoice-item">
        <div class="row">
            <div class="col-md-6">
                <div class="invoice-info">
                    <strong class="customer-text">Doctor Information:</strong>
                    <p class="invoice-details invoice-details-two">
                        <b>Name: </b>{{prescription.doctor.name}} <br/>
                        <b>Department: </b>{{prescription.doctor.department_name}}<br/>
                        <b>Email: </b>{{prescription.doctor.email}} <br/>
                        <b>Phone Number: </b>{{prescription.doctor.phone_number}}
                    </p>
                </div>
            </div>
            <div class="col-md-6">
                <div class="invoice-info invoice-info2">
                    <strong class="customer-text">Prescription To:</strong>
                    <p class="invoice-details">
                        <b>Name: </b>{{prescription.patient.name}}<br/>
                        <b>Age: </b>{{prescription.patient.age}}<br/>
                        <b>Blood Group: </b>{{prescription.patient.blood_group}}<br/>
                        <b>Address: </b>{{prescription.patient.address}}<br/>
                        <b>Email: </b>{{prescription.patient.email}}<br/>
                        <b>Phone Number: </b>{{prescription.patient.phone_number}}
                    </p>
                </div>
            </div>
        </div>
    </div>

    <div class="invoice-item invoice-table-wrap" style="margin-top: 3px;">
        <div class="row">
            <div class="col-md-12">
                <div class="table-responsive">
                    <hr/>
                    <h2 class="text-center" style="color: #5493c7; margin-bottom: 4px;">
                        <b>Medicine</b>
                    </h2>
                    <table class="invoice-table">
                        <tr style="background-color: #5493c7; color: white; height: 50px;">
                            <th>Medicine Name</th>
                            <th>Quantity</th>
                            <th>Frequency</th>
                            <th>Duration</th>
                            <th>Relation with meal</th>
                            <th>Instruction</th>
                        </tr>
                        {% for pm in prescription_medicine %}
                        <tr style="height: 30px;">
                            <td>{{pm.medicine_name}}</td>
                            <td>{{pm.quantity}}</td>
                            <td>{{pm.frequency}}</td>
                            <td>{{pm.duration}}</td>
                            <td>{{pm.relation_with_meal}}</td>
                            <td>{{pm.instruction}}</td>
                        </tr>
                        {% endfor %}
                    </table>
                </div>
            </div>
        </div>
    </div>

    <div class="invoice-item invoice-table-wrap" style="margin-top: 3px;">
        <div class="row">
            <div class="col-md-12">
                <div class="table-responsive">
                    <h2 class="text-center" style="color: #5493c7; margin-bottom: 4px;">
                        <b>Test</b>
                    </h2>
                    <table class="invoice-table">
                        <tr style="background-color: #5493c7; color: white; height: 50px;">
                            <th>Test Name</th>
                            <th>Description</th>
                            <th>Test Id</th>
                            <th>Price</th>
                        </tr>
                        {% for pt in prescription_test %}
                        <tr style="height: 30px;">
                            <td>{{pt.test_name}}</td>
                            <td>{{pt.test_description}}</td>
                            <td>{{pt.test_info_id}}</td>
                            <td>{{pt.test_info_price}}</td>
                        </tr>
                        {% endfor %}
                    </table>
                </div>
            </div>
        </div>
    </div>

    <div class="invoice-item invoice-table-wrap" style="margin-top: 40px;">
        <div class="row">
            <div class="col-md-12">
                <div class="table-responsive">
                    <table class="invoice-table">
                        <thead>
                            <tr>
                                <th>
                                    <h2 class="text-center" style="color: #5493c7;">
                                        <b>Advice/Recommendation</b>
                                    </h2>
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="text-center">{{prescription.extra_information}}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
</html>